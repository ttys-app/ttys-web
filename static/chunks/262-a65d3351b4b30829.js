"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[262],{40:(e,t,a)=>{a.d(t,{Ak:()=>s,Cw:()=>n,M$:()=>c,Q8:()=>y,VT:()=>T,eE:()=>i,i1:()=>l,iz:()=>p,ql:()=>o,zj:()=>g});var r=a(7810);let n="A1CfWF1tN7SCgOZa",i="g",o="rgba(0,91,219,1)",s=1,l=1e4,c="https://apps.apple.com/app/com.ttys",y="https://assets.ttys.app/app.apk",p="https://assets.ttys.app/app.apk",T="https://api.ttys.app/v1";function g(e){let{t}=(0,r.ZU)(e);return{appName:t("config_app_name"),YEAR:t("general_years"),CATEGORY_TYPE:{0:t("category_type"),1:t("category_region"),2:t("category_year"),3:t("category_all")},ART_TYPE:{0:t("artTypeFilm"),1:t("artTypeTeleplay"),2:t("artTypeEntertainment"),3:t("artTypeVariety"),4:t("artTypeNews")},CONTENT_TYPE:{0:t("contentTypePlot"),1:t("contentTypeComedy"),2:t("contentTypeAction"),3:t("contentTypeRomance"),4:t("contentTypeScienceFiction"),5:t("contentTypeCartoon"),6:t("contentTypeSuspense"),7:t("contentTypeThriller"),8:t("contentTypeHorror"),9:t("contentTypeCrime"),10:t("contentTypeHomosexual"),11:t("contentTypeMusic"),12:t("contentTypeDance"),13:t("contentTypeBiopic"),14:t("contentTypeHistorical"),15:t("contentTypeWar"),16:t("contentTypeWestward"),17:t("contentTypeMagical"),18:t("contentTypeAdventure"),19:t("contentTypeDisaster"),20:t("contentTypeMartialArts"),21:t("contentTypeOthers")},REELS_CONTENT_TYPE:{0:t("reelsContentTypeUrban"),1:t("reelsContentTypeTraverse"),2:t("reelsContentTypeRebirth"),3:t("reelsContentTypeWarGod"),4:t("reelsContentTypeFantasy"),5:t("reelsContentTypeOverlord"),6:t("reelsContentTypeTorturedLove"),7:t("reelsContentTypeBaby"),8:t("reelsContentTypeCostume"),9:t("reelsContentTypeDivineHealer"),10:t("reelsContentTypeFemale"),11:t("reelsContentTypeMale"),12:t("reelsContentTypeHeir"),13:t("reelsContentTypeRepublic"),14:t("reelsContentTypeRise"),15:t("reelsContentTypeRomance"),16:t("reelsContentTypeHistory"),17:t("reelsContentTypeSweet"),18:t("reelsContentTypeRevenge"),19:t("reelsContentTypeFamily"),20:t("reelsContentTypeReality"),21:t("reelsContentTypeKinship"),22:t("reelsContentTypeFeeling"),23:t("reelsContentTypeFlashMarriage"),24:t("reelsContentTypeOthers")},AREA:{0:t("areaTypeChinaMainland"),1:t("areaTypeUnitedStates"),2:t("areaTypeHongKong"),3:t("areaTypeTaiwan"),4:t("areaTypeJapan"),5:t("areaTypeKorea"),6:t("areaTypeUnitedKingdom"),7:t("areaTypeFrance"),8:t("areaTypeGermany"),9:t("areaTypeItaly"),10:t("areaTypeSpain"),11:t("areaTypeIndia"),12:t("areaTypeThailand"),13:t("areaTypeRussia"),14:t("areaTypeIran"),15:t("areaTypeCanada"),16:t("areaTypeAustralia"),17:t("areaTypeIreland"),18:t("areaTypeSweden"),19:t("areaTypeBrazil"),20:t("areaTypeDenmark"),21:t("areaTypeOthers")}}}},190:(e,t,a)=>{a.d(t,{A:()=>s});var r=a(8693),n=a(6786);let i={theme:"system",language:"cn",autoPlay:!0,videoQuality:"auto"},o=(0,r.vt)()((0,n.Zr)((e,t)=>({currentTab:"movie",filter:{},activeCategory:"all",activeRegion:"all",activeYear:"all",activeType:"all",playHistory:[],favorites:[],playProgress:{},searchHistory:[],settings:i,isFirstVisit:!0,isOnline:!0,setCurrentTab:a=>{t().resetFilter(),e({currentTab:a})},setCurrentTabWithoutReset:t=>{e({currentTab:t})},setFilter:t=>{e({filter:t,activeCategory:t.type||"all",activeRegion:t.region||"all",activeYear:t.year||"all",activeType:t.type||"all"})},updateFilter:(a,r)=>{let n={...t().filter};"all"===r?delete n[a]:n[a]=r;let i={filter:n};switch(a){case"type":i.activeCategory=r,i.activeType=r;break;case"region":i.activeRegion=r;break;case"year":i.activeYear=r}return e(i),n},resetFilter:()=>e({filter:{},activeCategory:"all",activeRegion:"all",activeYear:"all",activeType:"all"}),setActiveCategory:a=>(e({activeCategory:a}),t().updateFilter("type",a)),setActiveRegion:a=>(e({activeRegion:a}),t().updateFilter("region",a)),setActiveYear:a=>(e({activeYear:a}),t().updateFilter("year",a)),setActiveType:a=>(e({activeType:a,activeCategory:a}),t().updateFilter("type",a)),addPlayHistory:t=>e(e=>{let a=e.playHistory.filter(e=>e.id!==t.id);return{playHistory:[t,...a].slice(0,50)}}),clearPlayHistory:()=>e({playHistory:[]}),toggleFavorite:t=>e(e=>e.favorites.some(e=>e.id===t.id)?{favorites:e.favorites.filter(e=>e.id!==t.id)}:{favorites:[t,...e.favorites]}),isFavorite:e=>t().favorites.some(t=>t.id===e),updatePlayProgress:(t,a,r)=>e(e=>({playProgress:{...e.playProgress,[t]:{videoId:t,progress:a,duration:r,lastPlayed:Date.now()}}})),getPlayProgress:e=>t().playProgress[e],addSearchHistory:t=>e(e=>{if(!t.trim())return e;let a=e.searchHistory.filter(e=>e!==t);return{searchHistory:[t,...a].slice(0,10)}}),clearSearchHistory:()=>e({searchHistory:[]}),updateSettings:t=>e(e=>({settings:{...e.settings,...t}})),setFirstVisit:t=>e({isFirstVisit:t}),setOnlineStatus:t=>e({isOnline:t})}),{name:"ttys-storage",storage:(0,n.KU)(()=>localStorage),partialize:e=>({playHistory:e.playHistory,favorites:e.favorites,playProgress:e.playProgress,searchHistory:e.searchHistory,settings:e.settings,isFirstVisit:e.isFirstVisit,filter:e.filter,activeCategory:e.activeCategory,activeRegion:e.activeRegion,activeYear:e.activeYear,activeType:e.activeType})}));o.getState().setOnlineStatus(navigator.onLine),window.addEventListener("online",()=>{o.getState().setOnlineStatus(!0)}),window.addEventListener("offline",()=>{o.getState().setOnlineStatus(!1)});let s=o},5113:(e,t,a)=>{a.d(t,{A:()=>p});var r=a(9959),n=a(5875),i=a(40);let o=e=>{let t=n.A.enc.Utf8.parse(i.Cw);return n.A.AES.encrypt(e,t,{iv:t,mode:n.A.mode.CBC,padding:n.A.pad.Pkcs7}).ciphertext.toString()},s=e=>{let t=n.A.enc.Utf8.parse(i.Cw);return n.A.RC4.decrypt(e,t).toString(n.A.enc.Utf8)},l=async e=>{try{let t=await localStorage.getItem(e);if(t)return JSON.parse(t)}catch(e){console.error("[getStorage]: ".concat(e)),await Promise.reject(Error("[getStorage]: ".concat(e)))}},c=(e,t,a)=>{let r=t?"c_m=".concat(i.eE):"dev=1&ak=".concat(a,"&c_m=").concat(i.eE);return"".concat(e).concat(e.includes("?")?"&":"?").concat(r)},y=(e,t)=>{let a,r,n,{url:s,method:l="GET",headers:y={},body:p={},token:T="",timeout:g=i.i1,encrypt:d=0,secretKey:u=""}=e;if(!s)throw Error("Missing params: url");let v=T?"Bearer ".concat(T):"",f={"Content-Type":"application/json",...y,...v&&{Authorization:v}},C=c(s,d,u),w=["POST","PUT","PATCH"].includes(l.toUpperCase())&&p&&Object.keys(p).length;w&&(a=d?o(JSON.stringify(p)):JSON.stringify(p));let m={method:l,headers:f,body:w?a:void 0,signal:t};{let{signal:e}=r=new AbortController;t&&t.addEventListener("abort",()=>r.abort()),m.signal=e}return Promise.race([fetch(C,m).then(e=>e.text()).then(e=>e?JSON.parse(e):{}).finally(()=>{n&&clearTimeout(n)}),new Promise((e,t)=>{n=setTimeout(()=>{let e="Request timeout!";r.abort(e),t(Error(e))},g)})])};async function p(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};try{let a=await y({...e,encrypt:i.Ak,secretKey:i.Cw},t);if(a&&Object.keys(a).length){let{data:e,errMsg:t}=a;if(t&&await Promise.reject(t),e)if(!i.Ak)return e;else{if("g"===i.eE){let t=atob(e),a=new Uint8Array([...t].map(e=>e.charCodeAt(0))),n=r.Ay.inflate(a,{to:"string"});return JSON.parse(n)}return JSON.parse(s(e))}}}catch(e){if(e){let t="string"==typeof e?e:e.toString(),r=t.includes("user existed"),n=t.includes("user not exist"),i=t.includes("authorization header not fined")||t.includes("Authorization Failed")||t.includes("access token not fined")||t.includes("invalid token"),o=t.includes("Query was empty"),s=t.includes("record not found"),c=t.includes("Incorrect string value"),y=t.includes("no response"),p=t.includes("wrong password"),T=t.includes("Network request failed"),g=t.includes("time out"),d=t.includes("AbortError"),u=e=>a[e]||e;if(r)console.warn(u("general_user_exist"),1);else if(n)console.warn(u("general_user_not_exist"),1);else if(i)console.warn(u("general_auth_fail"),1);else if(o)console.warn(u("main_noData"),1);else if(s)console.info(u("main_noData"));else if(c)console.warn(u("general_wrong_character"),1),await Promise.reject(e);else if(y)console.warn(u("general_net_slow"),1);else if(p)Toast.fail(u("general_login_faild"),1),await Promise.reject(e);else if(g)console.warn(u("general_net_wrong"),1),await Promise.reject(Error(u("general_net_wrong")));else if(T){let e=await l("netinfo");(null==e?void 0:e.connected)?(console.warn(u("general_net_fault"),1),await Promise.reject(Error(u("general_net_fault")))):(console.warn(u("general_net_unconnected")),await Promise.reject(Error(u("general_net_unconnected"))))}else d?console.warn(e.toString()):(console.error(t),console.warn(u("general_net_link_fault"),1),await Promise.reject(e))}}}}}]);